<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŒğ‘ğˆğ’ğğ‘ğ€ğğƒ ğƒğ€ğ“ğ€ğğ€ğ’ğ„ ğŸ­</title>

<style>
:root {
    --bg-color: #0a0a0c;
    --card-bg: #121214;
    --text-color: #ffffff;
    --input-bg: #1a1a1d;
    --primary-color: #9c27b0;
    --accent-color: #d1c4e9;
    --outline-color: #311b92;
}

/* ===== MOBILE LAYOUT FIX ===== */
body{
    margin:0;
    padding:0;
    background: var(--bg-color);
    color: var(--text-color);
    font-family: 'Segoe UI', sans-serif;
}

.app{
    max-width:520px;
    width:100%;
    margin:0 auto;
    padding:15px;
}

/* HEADER */
.header-container{
    text-align:center;
    margin-bottom:25px;
}

.header-img{
    width:120px;
    height:120px;
    border-radius:12px;
    border:3px solid var(--primary-color);
    box-shadow:0 0 20px var(--primary-color);
}

.brand-title{
    font-weight:900;
    font-size:22px;
    letter-spacing:3px;
    margin-top:10px;
    color:var(--primary-color);
}

/* SEARCH */
.searchbox{
    background: var(--card-bg);
    padding:20px;
    border-radius:15px;
    border:1px solid var(--outline-color);
}

input{
    width:100%;
    padding:14px;
    border-radius:10px;
    border:1px solid #333;
    background:var(--input-bg);
    color:white;
    margin-bottom:12px;
    text-align:center;
}

.search-btn{
    width:100%;
    padding:14px;
    border:none;
    border-radius:10px;
    background:var(--primary-color);
    color:white;
    font-weight:800;
    cursor:pointer;
}

/* JOIN BUTTON BELOW SEARCH */
.join-btn{
    width:100%;
    margin-top:10px;
    padding:12px;
    border-radius:10px;
    text-align:center;
    background:#00c853;
    color:white;
    font-weight:bold;
    text-decoration:none;
    display:block;
}

/* RESULT */
.result-page{
    background: var(--card-bg);
    border-radius:15px;
    margin-top:20px;
    border:1px solid var(--outline-color);
}

.result-header{
    background: var(--primary-color);
    padding:12px;
    text-align:center;
    font-weight:bold;
}

.result-table{
    width:100%;
    border-collapse:collapse;
}

.result-table td{
    padding:10px;
    border-bottom:1px solid #222;
    font-size:13px;
}

/* MAP */
.map-container{
    padding:12px;
}

.map-frame{
    width:100%;
    height:200px;
    border-radius:10px;
    border:1px solid #333;
    margin-bottom:10px;
}

.action-buttons{
    display:flex;
    flex-direction:column;
    gap:8px;
}

.view-map-btn{
    background:var(--outline-color);
    color:white;
    padding:10px;
    text-align:center;
    border-radius:8px;
    text-decoration:none;
}

.copy-map-btn{
    background:#333;
    color:#00ff00;
    padding:10px;
    border-radius:8px;
    border:1px solid #444;
    cursor:pointer;
}

/* MOBILE PERFECT */
@media(max-width:480px){
    .app{padding:12px}
    .brand-title{font-size:18px}
}
</style>
</head>

<body>

<div class="app">

<div class="header-container">
    <img src="https://i.postimg.cc/9XxMCVLF/Screenshot-20250802-114226-3.jpg" class="header-img">
    <div class="brand-title">ğŒğ‘ğˆğ’ğğ‘ğ€ğğƒ ğƒğ€ğ“ğ€ğğ€ğ’ğ„ ğŸ­</div>
</div>

<div class="searchbox">
    <input id="phoneInput" type="text" placeholder="03XXXXXXXXX">
    <button class="search-btn" onclick="executeSearch()">SEARCH DATABASE</button>

    <!-- JOIN BUTTON -->
    <a href="https://mrisbrand-network-six.vercel.app/" target="_blank" class="join-btn">
        ğŸš€ JOIN OUR NETWORK
    </a>
</div>

<div id="results"></div>

</div>

<script>
const API="https://howler-database-api.vercel.app/api/lookup?phone=";

async function executeSearch(){
    const num=document.getElementById("phoneInput").value.trim();
    if(num.length<10){alert("Invalid Number");return;}

    const res=await fetch(API+num);
    const data=await res.json();

    if(!data.success || !data.result || data.result.length===0){
        alert("No Records Found");
        return;
    }

    renderAll(data.result);
}

function copyToClipboard(text,btn){
    navigator.clipboard.writeText(text).then(()=>{
        btn.innerText="âœ… COPIED!";
        setTimeout(()=>{btn.innerText="ğŸ”— COPY MAP LINK"},2000);
    });
}

function renderAll(records){
    const results=document.getElementById("results");
    results.innerHTML="";

    records.forEach((r,i)=>{
        const address=r.address||"N/A";
        const encoded=encodeURIComponent(address);
        const mapEmbed=`https://maps.google.com/maps?q=${encoded}&output=embed`;
        const mapExternal=`https://www.google.com/maps/search/${encoded}`;

        results.innerHTML+=`
        <div class="result-page">
            <div class="result-header">RECORD #${i+1}</div>
            <table class="result-table">
                <tr><td>NAME</td><td>${r.name||"N/A"}</td></tr>
                <tr><td>CNIC</td><td>${r.cnic||"N/A"}</td></tr>
                <tr><td>MOBILE</td><td>${r.mobile||"N/A"}</td></tr>
                <tr><td>ADDRESS</td><td>${address}</td></tr>
            </table>

            ${address!=="N/A"?`
            <div class="map-container">
                <iframe class="map-frame" src="${mapEmbed}"></iframe>
                <div class="action-buttons">
                    <a href="${mapExternal}" target="_blank" class="view-map-btn">ğŸ“ OPEN IN GOOGLE MAPS</a>
                    <button class="copy-map-btn" onclick="copyToClipboard('${mapExternal}',this)">ğŸ”— COPY MAP LINK</button>
                </div>
            </div>`:''}
        </div>`;
    });
}
</script>

</body>
</html>
